{
  "profile_name": "Development-Admin",
  "start_time": "2025-07-07T18:06:48.763575",
  "phases": {
    "COMPUTE_DESTRUCTION": {
      "status": "failed",
      "start_time": "2025-07-07T18:06:48.767241",
      "end_time": "2025-07-07T18:06:52.517217",
      "duration_seconds": 3.749976,
      "error": "/Users/bc/Desktop/@modulairhr_aws/infra-decom-logs/agents/closure/compute_destruction_agent.py:23: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n  'start_time': datetime.utcnow().isoformat(),\nTraceback (most recent call last):\n  File \"/Users/bc/Desktop/@modulairhr_aws/infra-decom-logs/agents/closure/compute_destruction_agent.py\", line 189, in <module>\n    main()\n    ~~~~^^\n  File \"/Users/bc/Desktop/@modulairhr_aws/infra-decom-logs/agents/closure/compute_destruction_agent.py\", line 185, in main\n    agent.destroy_all_compute()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/bc/Desktop/@modulairhr_aws/infra-decom-logs/agents/closure/compute_destruction_agent.py\", line 141, in destroy_all_compute\n    regions = [r['RegionName'] for r in ec2.describe_regions()['Regions']]\n                                        ~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/bc/Library/Python/3.13/lib/python/site-packages/botocore/client.py\", line 598, in _api_call\n    return self._make_api_call(operation_name, kwargs)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/bc/Library/Python/3.13/lib/python/site-packages/botocore/context.py\", line 123, in wrapper\n    return func(*args, **kwargs)\n  File \"/Users/bc/Library/Python/3.13/lib/python/site-packages/botocore/client.py\", line 1061, in _make_api_call\n    raise error_class(parsed_response, operation_name)\nbotocore.exceptions.ClientError: An error occurred (UnauthorizedOperation) when calling the DescribeRegions operation: You are not authorized to perform this operation. User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: ec2:DescribeRegions with an explicit deny in a service control policy\n",
      "stdout": "\ud83d\udd25 Starting Compute Destruction Agent for Development-Admin\n\ud83d\udd25\ud83d\udd25\ud83d\udd25 COMPUTE DESTRUCTION AGENT - ACCOUNT 134388504287 \ud83d\udd25\ud83d\udd25\ud83d\udd25\n\u26a0\ufe0f  WARNING: ALL COMPUTE RESOURCES WILL BE PERMANENTLY DESTROYED!\n"
    },
    "STORAGE_DESTRUCTION": {
      "status": "failed",
      "start_time": "2025-07-07T18:06:48.767272",
      "end_time": "2025-07-07T18:07:11.037676",
      "duration_seconds": 22.270404,
      "error": "/Users/bc/Desktop/@modulairhr_aws/infra-decom-logs/agents/closure/storage_destruction_agent.py:22: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n  'start_time': datetime.utcnow().isoformat(),\n/Users/bc/Desktop/@modulairhr_aws/infra-decom-logs/agents/closure/storage_destruction_agent.py:118: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n  'timestamp': datetime.utcnow().isoformat()\nTraceback (most recent call last):\n  File \"/Users/bc/Desktop/@modulairhr_aws/infra-decom-logs/agents/closure/storage_destruction_agent.py\", line 272, in <module>\n    main()\n    ~~~~^^\n  File \"/Users/bc/Desktop/@modulairhr_aws/infra-decom-logs/agents/closure/storage_destruction_agent.py\", line 268, in main\n    agent.destroy_all_storage()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/bc/Desktop/@modulairhr_aws/infra-decom-logs/agents/closure/storage_destruction_agent.py\", line 221, in destroy_all_storage\n    regions = [r['RegionName'] for r in ec2.describe_regions()['Regions']]\n                                        ~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/bc/Library/Python/3.13/lib/python/site-packages/botocore/client.py\", line 598, in _api_call\n    return self._make_api_call(operation_name, kwargs)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/bc/Library/Python/3.13/lib/python/site-packages/botocore/context.py\", line 123, in wrapper\n    return func(*args, **kwargs)\n  File \"/Users/bc/Library/Python/3.13/lib/python/site-packages/botocore/client.py\", line 1061, in _make_api_call\n    raise error_class(parsed_response, operation_name)\nbotocore.exceptions.ClientError: An error occurred (UnauthorizedOperation) when calling the DescribeRegions operation: You are not authorized to perform this operation. User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: ec2:DescribeRegions with an explicit deny in a service control policy\n",
      "stdout": "\ud83d\udd25 Starting Storage Destruction Agent for Development-Admin\n\ud83d\udd25\ud83d\udd25\ud83d\udd25 STORAGE DESTRUCTION AGENT - ACCOUNT 134388504287 \ud83d\udd25\ud83d\udd25\ud83d\udd25\n\u26a0\ufe0f  WARNING: ALL STORAGE RESOURCES WILL BE PERMANENTLY DESTROYED!\n\ud83d\udd25 DESTROYING ALL S3 BUCKETS...\n  Found 10 S3 buckets to destroy\n  \ud83d\uddd1\ufe0f  Destroying bucket: aws-config-bucket-134388504287\n    Error clearing versioned objects: An error occurred (AccessDenied) when calling the ListObjectVersions operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucketVersions on resource: \"arn:aws:s3:::aws-config-bucket-134388504287\" with an explicit deny in a service control policy\n    Error deleting objects: An error occurred (AccessDenied) when calling the ListObjectsV2 operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucket on resource: \"arn:aws:s3:::aws-config-bucket-134388504287\" with an explicit deny in a service control policy\n    \u274c FAILED: aws-config-bucket-134388504287 - An error occurred (AccessDenied) when calling the DeleteBucket operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:DeleteBucket on resource: \"arn:aws:s3:::aws-config-bucket-134388504287\" with an explicit deny in a service control policy\n  \ud83d\uddd1\ufe0f  Destroying bucket: aws-config-bucket-134388504287-us-east-1\n    Error clearing versioned objects: An error occurred (AccessDenied) when calling the ListObjectVersions operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucketVersions on resource: \"arn:aws:s3:::aws-config-bucket-134388504287-us-east-1\" with an explicit deny in a service control policy\n    Error deleting objects: An error occurred (AccessDenied) when calling the ListObjectsV2 operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucket on resource: \"arn:aws:s3:::aws-config-bucket-134388504287-us-east-1\" with an explicit deny in a service control policy\n    \u274c FAILED: aws-config-bucket-134388504287-us-east-1 - An error occurred (AccessDenied) when calling the DeleteBucket operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:DeleteBucket on resource: \"arn:aws:s3:::aws-config-bucket-134388504287-us-east-1\" with an explicit deny in a service control policy\n  \ud83d\uddd1\ufe0f  Destroying bucket: aws-config-bucket-134388504287-us-east-2\n    \u2705 DESTROYED: aws-config-bucket-134388504287-us-east-2\n  \ud83d\uddd1\ufe0f  Destroying bucket: aws-config-bucket-134388504287-us-west-2\n    \u2705 DESTROYED: aws-config-bucket-134388504287-us-west-2\n  \ud83d\uddd1\ufe0f  Destroying bucket: aws-ssm-inventory-134388504287-us-east-1\n    \u2705 DESTROYED: aws-ssm-inventory-134388504287-us-east-1\n  \ud83d\uddd1\ufe0f  Destroying bucket: cdk-hnb659fds-assets-134388504287-us-east-1\n    Error clearing versioned objects: An error occurred (AccessDenied) when calling the ListObjectVersions operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucketVersions on resource: \"arn:aws:s3:::cdk-hnb659fds-assets-134388504287-us-east-1\" with an explicit deny in a service control policy\n    Error deleting objects: An error occurred (AccessDenied) when calling the ListObjectsV2 operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucket on resource: \"arn:aws:s3:::cdk-hnb659fds-assets-134388504287-us-east-1\" with an explicit deny in a service control policy\n    \u274c FAILED: cdk-hnb659fds-assets-134388504287-us-east-1 - An error occurred (AccessDenied) when calling the DeleteBucket operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:DeleteBucket on resource: \"arn:aws:s3:::cdk-hnb659fds-assets-134388504287-us-east-1\" with an explicit deny in a service control policy\n  \ud83d\uddd1\ufe0f  Destroying bucket: dev-tenant-data-134388504287\n    \u2705 DESTROYED: dev-tenant-data-134388504287\n  \ud83d\uddd1\ufe0f  Destroying bucket: modulairhr-cloudfront-logs-dev-134388504287\n    Error clearing versioned objects: An error occurred (AccessDenied) when calling the ListObjectVersions operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucketVersions on resource: \"arn:aws:s3:::modulairhr-cloudfront-logs-dev-134388504287\" with an explicit deny in a service control policy\n    Error deleting objects: An error occurred (AccessDenied) when calling the ListObjectsV2 operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucket on resource: \"arn:aws:s3:::modulairhr-cloudfront-logs-dev-134388504287\" with an explicit deny in a service control policy\n    \u274c FAILED: modulairhr-cloudfront-logs-dev-134388504287 - An error occurred (AccessDenied) when calling the DeleteBucket operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:DeleteBucket on resource: \"arn:aws:s3:::modulairhr-cloudfront-logs-dev-134388504287\" with an explicit deny in a service control policy\n  \ud83d\uddd1\ufe0f  Destroying bucket: modulairhr-lambda-artifacts-134388504287\n    Error clearing versioned objects: An error occurred (AccessDenied) when calling the ListObjectVersions operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucketVersions on resource: \"arn:aws:s3:::modulairhr-lambda-artifacts-134388504287\" with an explicit deny in a service control policy\n    Error deleting objects: An error occurred (AccessDenied) when calling the ListObjectsV2 operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:ListBucket on resource: \"arn:aws:s3:::modulairhr-lambda-artifacts-134388504287\" with an explicit deny in a service control policy\n    \u274c FAILED: modulairhr-lambda-artifacts-134388504287 - An error occurred (AccessDenied) when calling the DeleteBucket operation: User: arn:aws:sts::134388504287:assumed-role/AWSReservedSSO_AdministratorAccess_f4494ddbdde01832/admin is not authorized to perform: s3:DeleteBucket on resource: \"arn:aws:s3:::modulairhr-lambda-artifacts-134388504287\" with an explicit deny in a service control policy\n  \ud83d\uddd1\ufe0f  Destroying bucket: modulairhr-marketing-dev-134388504287\n    \u2705 DESTROYED: modulairhr-marketing-dev-134388504287\n"
    }
  },
  "summary": {
    "phases_completed": 0,
    "phases_failed": 2,
    "total_resources_destroyed": 0
  },
  "verification": {
    "s3_buckets": 5,
    "ec2_instances": 0,
    "lambda_functions": 0,
    "cloudformation_stacks": 0
  },
  "end_time": "2025-07-07T18:08:36.183794",
  "total_duration_seconds": 107.420269
}